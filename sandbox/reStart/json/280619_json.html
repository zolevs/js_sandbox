<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JSON</title>
    <script src="280619_json.js"></script>
</head>
<body>

    <div id="addButton">Get USER</div>
    <div id="testButton">Test Map</div>
    <div id="output"></div>

<script>
    const addButon = document.getElementById('addButton');
    addButon.addEventListener('click', addJSON);
    const testButton = document.getElementById('testButton');
    testButton.addEventListener('click', addJSON);
    
    function tester(){
        console.log('testing');
        var tempArray = [4,7,4,3,6,7,8,22,5,7,9];
        const html = tempArray.map(function(val,i){
            console.log(val);
            return '<li>' + i + '=' + (val * 2) + '</li>';
        })
        console.log(html.join(""));
        // output.innerHTML = '<ul>'+html.join("")+'</ul>';
    }
    String.prototype.capitalize = function(){
        return this.charAt(0).toUpperCase()+this.slice(1);
    }
    const output = document.querySelector('#output');

    function addJSON(){
        output.innerHTML = "WORKING"
        const url = "https://randomuser.me/api/?results=10";
        fetch(url)
        .then(function(response){
            return response.json();
        })
        .then(function(data){
            let people = data.results;
            console.log(people);

            const html = people.map(function(val,i){
                // let firstName = val.name.first.toUpperCase();
                let firstName = val.name.first.capitalize();
                // let lastName = val.name.last.toUpperCase();
                let lastName = val.name.last.capitalize();

                console.log(val);
                console.log(firstName);
                // return '<li>'+(i+1)+ '. ' +val.name.first+' '+ val.name.last + '</li>';
                return '<li>'+(i+1)+ '. ' +firstName+' '+ lastName + '</li>';

            })
            output.innerHTML = '<ul>'+html.join("")+'</ul>';
            // console.log("First name: "+people[0].name.first + " Last name: "+people[0].name.last);
            // output.innerHTML = "FirstName = "+data.name+" Occupation = "+data.ocupation;
            // console.log(JSON.parse(data));
        })
    }



</script>

</body>
</html>