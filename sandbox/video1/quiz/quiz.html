<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS Quiz</title>
</head>
<body>
    <h1>JS Quiz</h1>
    
    <script>
/*

// // Immediately Invoked function

(function() {


// // function construction
function Question(question, answers, correct){
            this.question = question;
            this.answers = answers;
            this.correct = correct;
        }

        Question.prototype.displayQuestion = function() {
            console.log(this.question);
            for (var i = 0; i < this.answers.length; i++){
                console.log(i + ' : ' + this.answers[i]);
            }
        }
        Question.prototype.checkAnswer = function(){
            if (answer === this.correct){
                console.log('Correct !!!');
            } else {
                console.log('Wrong answer.');
            }
        }

        var q1 = new Question('Is it javaScript cool language ?', ['Yes','No'], 0);
        var q2 = new Question('What is the teacher name ?', ['John','Bib','Jonas','Michel'], 2);
        var q3 = new Question('What does best describe coding?',['Boring','Hard','Fun'], 2);

        var question = [q1, q2, q3];
        
        var n = Math.floor(Math.random() * question.length);
        question[n].displayQuestion();

        var answer = parseInt(prompt('Select your answer'));
        question[n].checkAnswer(answer);


}) ();

*/


// // Immediately Invoked function

(function() {


// // function construction
function Question(question, answers, correct){
            this.question = question;
            this.answers = answers;
            this.correct = correct;
        }

        Question.prototype.displayQuestion = function() {
            console.log(this.question);
            for (var i = 0; i < this.answers.length; i++){
                console.log(i + ' : ' + this.answers[i]);
            }
        }
        Question.prototype.checkAnswer = function(ans, callback){
        // Question.prototype.checkAnswer = function(answers){
            if (ans === this.correct){
                var sc;
                console.log('Correct !!!');
                sc = callback(true);
            } else {
                console.log('Wrong answer.');

                sc = callback(false);
            }
            this.displayScore(sc);
        }

        Question.prototype.displayScore = function(score){
            console.log('Your current score is: '+score);
            console.log('------------------------------');
            
            
        }

        var q1 = new Question('Is it javaScript cool language ?', ['Yes','No'], 0);
        var q2 = new Question('What is the teacher name ?', ['John','Bib','Jonas','Michel'], 2);
        var q3 = new Question('What does best describe coding?',['Boring','Hard','Fun'], 2);

        var question = [q1, q2, q3];

        function score(){
            var sc = 0;
            return function(correct){
                if (correct){
                    sc++;
                } 
                return sc;
            }
        }
        var keepScore = score();

        function nextQuestion(){
        
            var n = Math.floor(Math.random() * question.length);
            question[n].displayQuestion();

            var answers = prompt('Select your answer');
            // question[n].checkAnswer(answer);
            
            if(answers !== 'exit'){
                question[n].checkAnswer(parseInt(answers), keepScore);
                nextQuestion();
            }
        }

        nextQuestion(); 


}) ();





        
    </script>
</body>
</html>